# I2CStepper
 
Скетч для Arduino Nano, управляющий шаговым двигателем и четырьмя реле. Основное назначение - использование совместно с Самоваром как модуль расширения.
Управляет четырьмя реле. Первое используется для управления насосом в режиме вкл/выкл, например, для перемешивания затора в режиме Пиво. Три других могут использоваться для управления дополнительной переферией.
Так же управляет шаговым двигателем в двух режимах:
Управление мешалкой на шаговом двигателе для режима Пиво.
Управление перестальтическиим насосом на шаговом двигателе.

Управление возможно как отдельно с помощью меню на LCD экране 16х2 и энкодера, так и при подключении по I2C к Самовару.

В дальнейшем возможно расширение другими устройствами.

Необходимо использовать библиотеки, идущие в комплекте с Самоваром.

Покдлючение переферии:


    // Пины для I2C Master - подключение экрана и потенциально других устройств
    // SDA_PIN 0 //A0
    // SCL_PIN 2 //D2

    // Пины для I2C Slave - связь с Samovar
    // SDA_PIN A4
    // SCL_PIN A5

    // Пины для шагового двигателя
    #define STEPPER_STEP 3
    #define STEPPER_DIR 4
    #define STEPPER_EN 5

    //Пины для реле
    #define MIXER_PUMP_PIN 13 // RELE_PIN1
    #define RELE_PIN2 10      // RELE_PIN2
    #define RELE_PIN3 11      // RELE_PIN3
    #define RELE_PIN4 12      // RELE_PIN4

    // Пины для Encoder
    #define ENC_CLK 7 //S2
    #define ENC_DT 8  //S1
    #define ENC_SW 9  //KEY
